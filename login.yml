 - name: Todo project
   hosts: localhost
   become: yes
   tasks:

    - name: install golang
      apt:
        name: golang-go
        state: present
        update_cache: yes

    - name: ansible create directory example
      file:
        path: go/src
        state: directory


    - name: download foo.conf
      get_url:
        url: http://34.229.77.31:8081/repository/login/login-main.zip
        dest: /tmp/login-main.zip
        username: admin
        password: admin

    - name: ansible create directory example
      file:
          path: /home/ubuntu/go/src
          state: directory

    - unarchive:
        src: /tmp/login-main.zip
        dest: /home/ubuntu/go/src

    - name: build the files
      shell: go build
      become: yes
      args:
        chdir: /home/ubuntu/go/src

